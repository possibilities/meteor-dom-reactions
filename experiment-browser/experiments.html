<head>
  <title>DOM Reactions</title>
</head>

<body>
  <div class="container">
    <h1>DOM Reactions</h1>
    <p><em>An experimental tool for learning about DOM reactions in Meteor</em> <a href="https://github.com/possibilities/meteor-dom-reactions">See usage</a></p>
    {{domReactions}}
  </div>
</body>

<template name="nestedTemplates">
  <h2>Nested Templates</h2>
  <div class="row">
    <div class="span6">
      <div class="well">
        <p>I wonder if liveui could re-render less of the inner template when only one of the two users are updated?</p>
      </div>
      
      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:7896{{else}}dom-reaction-experiment-1.meteor.com{{/isDevelopment}}"></iframe>
    </div>

    <div class="span6">
      {{{code "experiments/karma1/karma.html"}}}
      {{{code "experiments/karma1/client/karma.js"}}}
    </div>
  </div>
</template>

<template name="multipleTemplates">
  <h2>Multiple Templates</h2>
  <div class="row">
    <div class="span6">

      <div class="well">
        <p>Breaking up markup into multiple templates seems to be the easier way to control how much of the DOM is re-rendered when data changes.</p>
      </div>

      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:6785{{else}}dom-reaction-experiment-2.meteor.com{{/isDevelopment}}"></iframe>
    </div>
    <div class="span6">
      {{{code "experiments/karma2/karma.html"}}}
      {{{code "experiments/karma2/client/karma.js"}}}
    </div>
  </div>
</template>

<template name="iframe">
  <h2>Iframe</h2>
  <div class="row">
    <div class="span6">

      <div class="well">
        <p>I was concerned that iframes were getting blown away unexpectedly but everything seems OK if the iframe is in a template not associated with any reactive data changes (same result as <em>Multi Template</em> experiment).</p>
      </div>

      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:5674{{else}}dom-reaction-experiment-3.meteor.com{{/isDevelopment}}"></iframe>
    </div>
    <div class="span6">
      {{{code "experiments/karma3/karma.html"}}}
      {{{code "experiments/karma3/client/karma.js"}}}
    </div>
  </div>
</template>
