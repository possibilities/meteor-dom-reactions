<head>
  <title>DOM Reactions</title>
</head>

<body>
  <div class="container">
    <h1>DOM Reactions</h1>
    <p><em>An experimental tool for learning about DOM reactions in Meteor</em> <a href="https://github.com/possibilities/meteor-dom-reactions">See usage</a></p>
    {{domReactions}}
  </div>
</body>

<template name="wrapperTemplate">
  <h2>Wrapper Template</h2>
  <div class="row">
    <div class="span6">
      <div class="well">
        <p>The content of the <em>outer karma container</em> doesn't update when the <em>inner karma container</em> does. But everything inside the inner container re-renders if either of the <code>Session</code> values change (e.g. the markup for both users 1 and 2 are re-rendered when even when only user 2's data changes). Could liveui *protect* the non-affected DOM elements the same way it protects focused form fields? Is that desirable or is the best practice to break out the markup into separate templates?</p>
      </div>
      
      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:7896{{else}}dom-reaction-experiment-1.meteor.com{{/isDevelopment}}"></iframe>
    </div>

    <div class="span6">
      {{{code "experiments/karma1/karma.html"}}}
      {{{code "experiments/karma1/client/karma.js"}}}
    </div>
  </div>
</template>

<template name="nestedTemplates">
  <h2>Nested Templates</h2>
  <div class="row">
    <div class="span6">

      <div class="well">
        <p>Right now it seems like this is what you need to do to draw boundaries around some part of your page. By placing each piece in it's own nested template it is unaffected by it's sibling element data changes (solution to my concerns in <em>Wrapper Template</em> experiment)</p>
      </div>

      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:6785{{else}}dom-reaction-experiment-2.meteor.com{{/isDevelopment}}"></iframe>
    </div>
    <div class="span6">
      {{{code "experiments/karma2/karma.html"}}}
      {{{code "experiments/karma2/client/karma.js"}}}
    </div>
  </div>
</template>

<template name="iframe">
  <h2>Iframe</h2>
  <div class="row">
    <div class="span6">

      <div class="well">
        <p>I was concerned that iframes were getting blown away unexpectedly but everything seems OK if the iframe gets it's own nested template (same result as <em>Nested Template</em> experiment)</p>
      </div>

      <iframe height="800px" frameborder="0" class="span6" src="http://{{#isDevelopment}}localhost:5674{{else}}dom-reaction-experiment-3.meteor.com{{/isDevelopment}}"></iframe>
    </div>
    <div class="span6">
      {{{code "experiments/karma3/karma.html"}}}
      {{{code "experiments/karma3/client/karma.js"}}}
    </div>
  </div>
</template>
